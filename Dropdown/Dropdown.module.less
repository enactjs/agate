// Dropdown.module.less
//
@import "../styles/mixins.less";
@import "../styles/skin.less";

.dropdown {
	.transitionContainer {
		position: absolute;
		display: inline-block;
		z-index: 1;
		pointer-events: none;
		width: 100%;
		visibility: hidden;

		&.openTransitionContainer {
			pointer-events: inherit;
			visibility: visible;
		}
	}

	.dropdownButton {
		.button {
			margin: 0;

			.icon {
				position: absolute;
				right: 0;
				margin: 0;
			}
		}

		.transitionContainer {
			display: block;
		}
	}

	.applySkins({
		.item {
			border-color: @agate-dropdown-border-color;
			border-style: @agate-dropdown-border-style;
			border-width: @agate-dropdown-border-width;
		}

		.transitionContainer {
			&.upTransitionContainer {
				transform: translateY(calc(-100% - @agate-item-height));
			}
		}

		.dropdownList {
			background-color: @agate-dropdown-list-bg-color;
			overflow: hidden;
			border-bottom-color: @agate-dropdown-border-color;
			border-bottom-style: @agate-dropdown-border-style;
			border-bottom-width: @agate-dropdown-border-width;
			padding: @agate-dropdown-list-padding;
		}

		.dropdownListWithScroller {
			height: @agate-dropdown-list-height;
			.scroller {
				height: 100%;
			}
		}

		.selected {
			color: @agate-dropdown-selected-color;
		}

		.dropdownButton {
			width: @agate-dropdown-button-width;

			.button {
				height: @agate-dropdown-button-height;
				width: @agate-dropdown-button-width;
				font-size: @agate-dropdown-button-font-size;
				padding: @agate-dropdown-button-padding;

				.bg {
					background-color: @agate-dropdown-button-bg-color;
					border-color: @agate-dropdown-button-border-color;
					background-image: @agate-dropdown-button-bg-image;
					transition-delay: @agate-dropdown-button-transition-delay;
				}

				&,
				.client {
					color: @agate-dropdown-button-client-color;
				}

				&.open {
					.bg {
						border-radius: @agate-dropdown-button-open-border-radius;
						border-bottom-color: @agate-dropdown-button-open-border-color;
						transition: none;
					}
				}

				.icon {
					color: @agate-dropdown-button-icon-color;
					font-size: @agate-dropdown-button-icon-font-size;
				}

				.marquee {
					margin-right: @agate-dropdown-button-marquee-margin-right;
				}
			}

			.transitionContainer {
				width: @agate-dropdown-transitionContainer-width;

				&.upTransitionContainer {
					transform: translateY(calc(-100% - @agate-button-height));
				}
			}

			.dropdownList {
				border-radius: @agate-dropdown-button-list-border-radius;
				background-color: @agate-dropdown-button-bg-color;

				.dropDownListItem {
					font-size: @agate-dropdown-item-font-size;
					font-weight: @agate-dropdown-item-font-weight;
					line-height: @agate-dropdown-item-line-height;

					&.radioItem {
						border-color: @agate-dropdown-item-border-color;
						border-width: @agate-dropdown-item-border-width;
						padding-left: @agate-dropdown-item-padding;
						padding-right: @agate-dropdown-item-padding;

						.focus({
							background-color: @agate-dropdown-item-focus-bg-color;
						});
					}
				}
			}

			&.upDropdownButton {
				.button {
					&.open {
						.bg {
							border-radius: @agate-dropdown-up-button-open-border-radius;
							border-bottom-color: @agate-dropdown-up-button-open-border-bottom-color;
							border-top-color: @agate-dropdown-button-open-border-color;
						}
					}
				}

				.dropdownList {
					border-radius: @agate-dropdown-up-button-list-border-radius;
				}
			}

			.dropdownListWithScroller {
				.scroller {
					// FIXME:
					[role="button"] {
						.focus({
							& > div {
								background-image: none;
							}
						});
					}

					[role="button"] > div {
						border-color: transparent;
						color: black;
					}

					[role="button"] + div::before {
						background-color: black;
					}
				}
			}
		}
	});
}
