// Spinner.module.less
//
@import "../styles/mixins.less";
@import "../styles/variables.less";
@import "../styles/skin.less";

@keyframes spinner {
	0% {
		opacity: 1;
	}
	100% {
		opacity: 0;
	}
}

.spinner {
	.bg {
		display: inline-block;
		width: @agate-spinner-size;
		height: @agate-spinner-size;
		position: relative;

		.fan1,
		.fan2,
		.fan3,
		.fan4,
		.fan5,
		.fan6,
		.fan7,
		.fan8,
		.fan9,
		.fan10,
		.fan11,
		.fan12 {
			transform-origin: @agate-spinner-transform-origin @agate-spinner-transform-origin;
			will-change: opacity;
			animation: spinner 1.2s linear infinite;

			&:after {
				content: " ";
				display: block;
				position: absolute;
				top: 0;
				left: 23px;
				width: 4px;
				height: 13px;
				border-radius: 50px;
			}
		}

		.fan1 {
			transform: rotate(0deg);
			animation-delay: -1.1s;
		}

		.fan2 {
			transform: rotate(30deg);
			animation-delay: -1s;
		}

		.fan3 {
			transform: rotate(60deg);
			animation-delay: -0.9s;
		}

		.fan4 {
			transform: rotate(90deg);
			animation-delay: -0.8s;
		}

		.fan5 {
			transform: rotate(120deg);
			animation-delay: -0.7s;
		}

		.fan6 {
			transform: rotate(150deg);
			animation-delay: -0.6s;
		}

		.fan7 {
			transform: rotate(180deg);
			animation-delay: -0.5s;
		}

		.fan8 {
			transform: rotate(210deg);
			animation-delay: -0.4s;
		}

		.fan9 {
			transform: rotate(240deg);
			animation-delay: -0.3s;
		}

		.fan10 {
			transform: rotate(270deg);
			animation-delay: -0.2s;
		}

		.fan11 {
			transform: rotate(300deg);
			animation-delay: -0.1s;
		}

		.fan12 {
			transform: rotate(330deg);
			animation-delay: 0s;
		}
	}

	&.small {
		.bg {
			width: @agate-spinner-small-size;
			height: @agate-spinner-small-size;

			.fan1,
			.fan2,
			.fan3,
			.fan4,
			.fan5,
			.fan6,
			.fan7,
			.fan8,
			.fan9,
			.fan10,
			.fan11,
			.fan12 {
				transform-origin: @agate-spinner-small-transform-origin @agate-spinner-small-transform-origin;

				&:after {
					left: 16px;
					width: 3px;
					height: 9px;
				}
			}
		}
	}

	// Skin colors
	.applySkins({
		&.dark {
			.bg {
				.fan1,
				.fan2,
				.fan3,
				.fan4,
				.fan5,
				.fan6,
				.fan7,
				.fan8,
				.fan9,
				.fan10,
				.fan11,
				.fan12 {
					&:after {
						background-color: @agate-spinner-dark-color;
					}
				}
			}
		}

		&.light {
			.bg {
				.fan1,
				.fan2,
				.fan3,
				.fan4,
				.fan5,
				.fan6,
				.fan7,
				.fan8,
				.fan9,
				.fan10,
				.fan11,
				.fan12 {
					&:after {
						background-color: @agate-spinner-light-color;
					}
				}
			}
		}
	});
}

.spinnerContainer {
	// Skin colors
	.applySkins({
		.blockClickOn {
			// Visible scrim
			.scrim {
				background-color: @agate-spinner-scrim-color;
			}
		}
	});
}
