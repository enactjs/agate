language: node_js
node_js:
    - "10"
sudo: false
cache:
  directories:
    - $(npm config get cache)
install:
    - npm config set prefer-offline true
    - npm install -g enactjs/cli#develop
    - npm install -g codecov
    - git clone --branch=develop --depth 1 https://github.com/enactjs/enact ../enact
    - pushd ../enact
    - npm install
    - npm run bootstrap -- --ignore enact-sampler
    - npm run link-all
    - popd
    - rm -fr node_modules
    - npm install
    - enact link
script:
    - npm run lint -- -- --max-warnings 0 .
    - npm run test
