// Popup.module.less
//
@import "../styles/mixins.less";
@import "../styles/skin.less";

.popup {
	position: fixed;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	box-sizing: border-box;

	.body {
		height: auto;
	}

	&.centered {
		text-align: center;

		.buttons {
			text-align: center;
		}
	}

	&.center {
		/* Defined to prevent global export */
	}

	&.bottom,
	&.fullscreen,
	&.left,
	&.right,
	&.top {
		left: 0;
		right: 0;
		top: 0;
		transform: none;
	}

	&.bottom {
		bottom: 0;
		top: auto;
	}

	&.left,
	&.right {
		height: 100%;
	}

	&.right {
		right: 0;
		left: auto;
	}

	&.left {
		left: 0;
		right: auto;
	}

	&.fullscreen {
		height: 100%;
		width: 100%;
	}

	.closeButton {
		position: absolute;
		top: 0;
	}

	:global(.enact-locale-right-to-left) & {
		.closeButton {
			right: auto;
		}
	}

	.applySkins({
		color: @agate-popup-text-color;
		min-width: @agate-popup-min-width;
		max-width: @agate-popup-max-width;
		box-shadow: @agate-popup-shadow;
		background-color: @agate-popup-bg-color;
		background-image: @agate-popup-bg-image;
		padding: @agate-popup-padding;
		border: @agate-popup-border;
		border-width: @agate-popup-border-width;
		border-color: @agate-popup-border-color;
		border-radius: @agate-popup-border-radius;

		&.bottom,
		&.fullscreen,
		&.top {
			max-width: 100%;
		}

		&.bottom {
			border-radius: @agate-popup-bottom-border-radius;
		}

		&.left {
			border-radius: @agate-popup-left-border-radius;
		}

		&.fullscreen {
			border-radius: @agate-popup-fullscreen-border-radius;
		}

		&.right {
			border-radius: @agate-popup-right-border-radius;
		}

		&.top {
			border-radius: @agate-popup-top-border-radius;
		}

		.title {
			color: @agate-popup-text-color;
			padding: @agate-popup-title-padding;
		}

		&:not(.withTitle) {
			.body {
				color: @agate-popup-plain-body-color;
				font-weight: @agate-popup-body-font-weight;
			}
		}

		&.withTitle {
			.body {
				padding: @agate-popup-body-padding;
				margin: @agate-popup-body-margin;
				border: @agate-popup-body-border;
				border-color: @agate-popup-body-border-color;
				background-color: @agate-popup-body-bg-color;
				background-image: @agate-popup-body-bg-image;
				border-radius: @agate-popup-body-border-radius;
			}
		}

		&.withCloseButton {
			.title {
				.padding-start-end(.extract(@agate-popup-closebutton-title-padding, left)[], .extract(@agate-popup-closebutton-title-padding, right)[]);
			}

			&:not(.withTitle) {
				.content {
					.padding-start-end(.extract(@agate-popup-closebutton-content-padding, left)[], .extract(@agate-popup-closebutton-content-padding, right)[]);
				}
			}

			&.centered {
				.title {
					padding: @agate-popup-closebutton-centered-title-padding;
				}
			}
		}

		.buttons {
			padding: @agate-popup-buttons-padding;
			background-color: @agate-popup-buttons-bg-color;
			border-radius: @agate-popup-buttons-border-radius;
		}

		.content {
			padding: @agate-popup-content-padding;
			margin: @agate-popup-content-margin;
		}

		.closeButton {
			.position-start-end(@agate-popup-closebutton-position-left, @agate-popup-closebutton-position-right);
			margin: @agate-component-spacing;
		}
	});
}

.popupTransitionContainer {
	position: absolute;
	bottom: 0;
	height: 100%;
	width: 100%;
	pointer-events: none;

	.inner {
		height: 100%;

		> * {
			pointer-events: auto;
		}
	}
}
